{% extends "layout.html" %}

{% block content %}

<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h5 class="card-title">Edit Post</h5>
      </div>
      <!-- /.card-header -->
      <div class="card-body">
        <div class="row">
          <div class="col-md-12">
            <form action="{{ url_for('update_post', post_id=post_id) }}" method="POST">
              {% if post %}
                <div class="mb-3">
                    <label for=""> * Category Name</label>
                    <select name="category_id" class="form-control" required>
                      {% for category in categories %}
                        <option value="{{ category.id }}"
                        {% if category.id == post.category_id %}
                          selected
                        {% endif %}
                        >
                          {{ category.name }}
                        </option>
                      {% endfor %}
                    </select>
                </div>
                <div class="mb-3">
                    <label for="">* Post Name</label>
                    <input type="text" name="name" value="{{ post.name }}" class="form-control" required>
                    <input type="hidden" name="post_id" value="{{ post.id}}" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for=""> * Slug</label>
                    <input type="text" name="slug" value="{{ post.slug }}" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="">* Description/Content</label>
                    <textarea id="post-textarea"   name="description" rows="5" class="form-control">
                      {{ post.description }}
                    </textarea>
                </div>
                <div class="mb-3">
                    <label for=""> Youtube Iframe Link</label>
                    <input type="text" name="yt_iframe" value="{{ post.yt_iframe }}" class="form-control">
                </div>

                <h6>SEO Tags</h6>
                <div class="mb-3">
                    <label for="">* Meta Title</label>
                    <input type="text" name="meta_title" value="{{ post.meta_title }}" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for=""> * Meta Description</label>
                    <input name="meta_description" value="{{ post.meta_description }}" type="text" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="">* Meta Keywords</label>
                    <input  type="text" name="meta_keyword" value="{{ post.meta_keyword }}" class="form-control" required>
                </div>

                <h6>Status Code</h6>
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="">Status</label>
                        <input type="checkbox" 
                          {% if post.status == 1 %}
                            checked
                          {% else %}
                            ""
                          {% endif %}
                          name="status"
                         >
                    </div>
                    <div class="col-md-6 mb-3">
                      <a href="{{ url_for('view_post') }}" class="btn btn-default">Back</a>
                      <button type="submit" class="btn btn-primary float-right">Update post</button>
                    </div>
                </div>
              {% endif %}
            </form>
          </div>
        </div>
        <!-- /.row -->
      </div>
      <!-- ./card-body -->
      <div class="card-footer">
        
      </div>
      <!-- /.card-footer -->
    </div>
    <!-- /.card -->
  </div>
  <!-- /.col -->
</div>
<!-- /.row -->

{% endblock content %}